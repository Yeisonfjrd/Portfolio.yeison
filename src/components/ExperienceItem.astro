---
import LinkInline from "./LinkInline.astro";

interface Props {
  title: string;
  company: string;
  description: string;
  link?: string;
  date: string;
  isLast?: boolean;
}

const { title, company, description, link, date, isLast = false } = Astro.props;
---

<div class:list={[
  "relative experience-item pl-8 pb-12 grid before:absolute before:left-[-5px] before:block before:h-full before:border-l-2 before:border-violet-500/30 before:content-[''] md:grid-cols-5 md:gap-10 md:space-x-4",
  { "before:h-1/2": isLast }
]}>
  <div class="relative pb-10 md:col-span-2">
    <div class="relative">
      <span 
        class="absolute -left-[14px] top-2 w-4 h-4 rounded-full bg-violet-600 dark:bg-violet-500 border-3 border-slate-950 z-10 timeline-dot shadow-[0_0_10px_rgba(139,92,246,0.7)]"
      ></span>

      <div class="pl-4">
        <h3 class="mb-1 text-xl font-bold text-violet-400">{title}</h3>
        <h4 class="text-lg font-semibold text-white">{company}</h4>
        <time class="text-sm text-slate-400">{date}</time>
      </div>
    </div>
  </div>
  
  <div class="relative flex flex-col gap-2 pb-4 text-slate-300 md:col-span-3">
    <p>{description}</p>
    {
      link && (
        <LinkInline href={link}>
          Saber m√°s{" "}
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-5 icon icon-tabler icon-tabler-chevron-right"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="2"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <>
              <path stroke="none" d="M0 0h24v24H0z" fill="none" />
              <path d="M9 6l6 6l-6 6" />
            </>
          </svg>
        </LinkInline>
      )
    }
  </div>
</div>

<style>
  .timeline-dot {
    transition: transform 0.3s ease;
  }
  
  .experience-item:hover .timeline-dot {
    transform: scale(1.2);
    box-shadow: 0 0 15px rgba(139, 92, 246, 0.9);
  }
</style>